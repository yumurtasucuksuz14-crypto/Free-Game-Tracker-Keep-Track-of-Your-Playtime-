<!DOCTYPE html>
<html>
<head>
  <title>ðŸŽ® Free Game Tracker</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/833/833472.png" type="image/png">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #ff7e5f, #feb47b);
      color: #111;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 700px;
      margin: 40px auto;
      background: rgba(255,255,255,0.05);
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
    }
    h1 { font-size: 36px; margin-bottom: 25px; }
    input[type="text"] {
      width: 92%;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 14px;
      border: none;
      outline: none;
      background: rgba(255, 255, 255, 0.2);
      color: #000;
      margin-bottom: 15px;
    }
    button {
      background: linear-gradient(90deg, #6a11cb, #2575fc);
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      width: 30%;
      margin: 5px 3px;
      padding: 12px;
      border-radius: 14px;
      border: none;
      font-size: 16px;
      transition: all 0.3s ease;
    }
    button:hover { transform: translateY(-2px); }
    .stat-card {
      background: rgba(255,255,255,0.1);
      border-radius: 18px;
      padding: 18px 22px;
      margin: 14px 0;
      font-size: 20px;
    }
    .premium-btn {
      margin-top: 20px;
      padding: 12px 24px;
      font-size: 18px;
      border-radius: 16px;
      background: linear-gradient(90deg, #ff4d4d, #ff1a1a);
      color: #fff;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .premium-btn:hover { transform: scale(1.05); }

    #premiumPopup {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(90deg, #ff4d4d, #ff1a1a);
      color: #fff;
      padding: 18px 24px;
      border-radius: 16px;
      font-size: 18px;
      font-weight: bold;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
      display: none;
      cursor: pointer;
      z-index: 100;
      transition: transform 0.3s;
    }
    #premiumPopup:hover { transform: scale(1.05); }
  </style>
</head>
<body>
<div class="container">
  <h1>Free Game Tracker</h1>

  <input type="text" id="game" placeholder="Type your game name..." value="Minecraft">

  <br>
  <button onclick="startSession()">Start</button>
  <button onclick="stopSession()">Stop</button>
  <button onclick="resetStats()">Reset Stats</button>

  <div id="time" class="stat-card">Not playing</div>
  <div id="total" class="stat-card"></div>
  <div id="week" class="stat-card"></div>
  <div id="streak" class="stat-card"></div>
  <div id="dailyAvg" class="stat-card"></div>
  <div id="overallAvg" class="stat-card"></div>

  <canvas id="weeklyChart"></canvas>

  <button class="premium-btn" onclick="window.open('https://sucuksuz.gumroad.com/l/vpaxnp?_gl=1*1eqp4uf*_ga*MTc1MzU1ODM0OS4xNzY4NDY5NjI4*_ga_6LJN6D94N6*czE3Njg0NzM3MTgkbzIkZzEkdDE3Njg0NzUxMDUkajM4JGwwJGgw','_blank')">Buy Premium $1</button>
</div>

<div id="premiumPopup" onclick="window.open('https://sucuksuz.gumroad.com/l/vpaxnp?_gl=1*1eqp4uf*_ga*MTc1MzU1ODM0OS4xNzY4NDY5NjI4*_ga_6LJN6D94N6*czE3Njg0NzM3MTgkbzIkZzEkdDE3Njg0NzUxMDUkajM4JGwwJGgw','_blank')">
  Upgrade to Premium for extra features! ðŸŽ®
</div>

<script>
let startTime=null, timer=null;
const gameInput=document.getElementById("game");
let weeklyChart = null;

function formatTime(sec){
  const m=Math.floor(sec/60);
  const s=sec%60;
  return m+"m "+s+"s";
}

function getToday(){ return new Date().toISOString().split("T")[0]; }
function getLast7Days(){
  const days=[];
  const d=new Date();
  for(let i=6;i>=0;i--){
    const date=new Date(d);
    date.setDate(d.getDate()-i);
    days.push(date.toISOString().split("T")[0]);
  }
  return days;
}

function startSession(){
  if(startTime!==null) return;
  startTime=Date.now();
  const timeDiv=document.getElementById("time");
  timeDiv.innerText="Playing...";
  timer=setInterval(()=>{
    const seconds=Math.floor((Date.now()-startTime)/1000);
    timeDiv.innerText="Session: "+formatTime(seconds);
  },1000);
}

function stopSession(){
  if(startTime===null) return;
  clearInterval(timer);
  const sessionSec=Math.floor((Date.now()-startTime)/1000);
  startTime=null;
  document.getElementById("time").innerText="Stopped";

  const game=gameInput.value.trim()||"Unknown";
  const today=getToday();
  const allSessions=JSON.parse(localStorage.getItem("sessions")||"{}");
  if(!allSessions[game]) allSessions[game]={};
  if(!allSessions[game][today]) allSessions[game][today]=0;
  allSessions[game][today]+=sessionSec;
  localStorage.setItem("sessions",JSON.stringify(allSessions));

  incrementSessionCount();
  updateStats();
}

function resetStats(){
  if(confirm("Are you sure you want to reset stats?")){
    localStorage.removeItem("sessions");
    localStorage.removeItem("freeSessionCount");
    updateStats();
  }
}

function calculateStreak(gameSessions){
  let streak=0; let date=new Date();
  while(true){
    const key=date.toISOString().split("T")[0];
    if(gameSessions[key] && gameSessions[key]>0){
      streak++;
      date.setDate(date.getDate()-1);
    } else break;
  }
  return streak;
}

function updateStats(){
  const allSessions=JSON.parse(localStorage.getItem("sessions")||"{}");
  const game=gameInput.value.trim()||"Unknown";
  const today=getToday();

  const todayTotal=allSessions[game]?.[today]||0;
  document.getElementById("total").innerText=game+" today: "+formatTime(todayTotal);

  const last7=getLast7Days();
  let weekTotal=0;
  if(allSessions[game]) last7.forEach(d=>weekTotal += allSessions[game][d]||0);
  document.getElementById("week").innerText=game+" this week: "+formatTime(weekTotal);

  document.getElementById("streak").innerText="Current streak: "+calculateStreak(allSessions[game]||{})+" day(s)";

  // Daily average for selected game
  let gameTotal = 0;
  if(allSessions[game]) last7.forEach(d => gameTotal += allSessions[game][d] || 0);
  let gameAvg = Math.floor(gameTotal / 7);
  document.getElementById("dailyAvg").innerText = game+" daily average: "+formatTime(gameAvg);

  // Daily average across all games
  let totalAllGames = 0;
  for (const g in allSessions){
      last7.forEach(d => totalAllGames += allSessions[g][d] || 0);
  }
  let overallAvg = Math.floor(totalAllGames / 7);
  document.getElementById("overallAvg").innerText = "Overall daily average: "+formatTime(overallAvg);

  // Chart
  const ctx=document.getElementById("weeklyChart").getContext("2d");
  const data=last7.map(d=>(allSessions[game]?.[d]||0)/60);
  const colors=last7.map(d=>d===today?'rgba(255,140,148,1)':'rgba(255,140,148,0.7)');
  if(weeklyChart) weeklyChart.destroy();
  weeklyChart = new Chart(ctx,{
    type:'bar',
    data:{labels:last7.map(d=>d.slice(5)), datasets:[{label:"Playtime (minutes)", data, backgroundColor:colors, borderRadius:6}]},
    options:{responsive:true, animation:{duration:700}, plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true}}}
  });
}

// Pop-up banner
function incrementSessionCount(){
  let count=parseInt(localStorage.getItem("freeSessionCount")||"0");
  count++;
  localStorage.setItem("freeSessionCount", count);
  if(count>=3){
    document.getElementById("premiumPopup").style.display="block";
  }
}

// Initial load
updateStats();
gameInput.addEventListener("input", updateStats);
</script>
</body>
</html>





